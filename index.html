<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Beautiful Family Life â€” Application Web</title>
  <meta name="description" content="Beautiful Family Life : web app dâ€™organisation familiale â€” modules, tarifs, communautÃ©, contact. Installable et utilisable hors ligne.">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#509384">
  <style>
    main .section { display:none }
    main .section.active { display:block }
    .fade-enter { opacity:0; transform:translateY(8px) }
    .fade-enter.fade-enter-active { opacity:1; transform:none; transition:opacity .25s ease, transform .25s ease }
    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
      .fade-enter{opacity:1;transform:none}
    }
    .full-img,.hero-img{width:100%;height:auto;display:block}
    .section{padding:36px 0}

    /* Install banner */
    .install-banner{position:fixed;left:16px;right:16px;bottom:16px;z-index:2000;background:#fff;border:1px solid #e6efe9;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.08);display:none;align-items:center;gap:12px;padding:12px}
    .install-banner.show{display:flex}
    .install-banner .icon{width:44px;height:44px;border-radius:10px;flex:0 0 44px;background:linear-gradient(135deg,#CEE6D8,#FA8A71)}
    .install-banner .txt{flex:1 1 auto;color:#183b36;font-size:.95rem;line-height:1.25}
    .install-banner .actions{display:flex;gap:8px}
    .btn{appearance:none;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
    .btn-primary{background:#509384;color:#fff}
    .btn-ghost{background:#f2f6f4;color:#183b36}
  </style>
</head>
<body>
<header class="site-header">
  <nav class="container nav-wrap">
    <a href="#accueil" class="brand">ðŸŒ¼ Beautiful Family Life</a>
    <ul class="nav">
      <li><a href="#tarifs">Tarifs</a></li>
      <li><a href="#modules">Modules</a></li>
      <li><a href="#communaute">CommunautÃ©</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="#infographie">Infographie</a></li>
      <li><a href="#mentions">Mentions</a></li>
    </ul>
  </nav>
</header>

<!-- Install banner -->
<div class="install-banner" id="installBanner" role="dialog" aria-live="polite" aria-label="Installer lâ€™application">
  <div class="icon" aria-hidden="true"></div>
  <div class="txt"><strong>Installer lâ€™app&nbsp;?</strong><br>Ajoutez BFL sur votre Ã©cran dâ€™accueil.</div>
  <div class="actions">
    <button class="btn btn-ghost" id="btnLater">Plus tard</button>
    <button class="btn btn-primary" id="btnInstall">Installer</button>
  </div>
</div>

<main>
  <section id="accueil" class="section hero" aria-label="Accueil">
    <picture>
      <source srcset="page-d-accueil.webp" type="image/webp">
      <img class="hero-img" src="page-d-accueil.png" alt="Page dâ€™accueil â€” Beautiful Family Life" loading="eager">
    </picture>
  </section>

  <section id="tarifs" class="section" aria-label="Tarifs et Offre Premium">
    <picture>
      <source srcset="tarifs-et-offres-premium.webp" type="image/webp">
      <img class="full-img" src="tarifs-et-offres-premium.png" alt="Tarifs & Offre Premium" loading="lazy">
    </picture>
  </section>

  <section id="modules" class="section" aria-label="Modules et FonctionnalitÃ©s">
    <picture>
      <source srcset="modules-et-fonctionnalites.webp" type="image/webp">
      <img class="full-img" src="modules-et-fonctionnalites.png" alt="Modules et FonctionnalitÃ©s" loading="lazy">
    </picture>
  </section>

  <section id="communaute" class="section" aria-label="CommunautÃ© et Ressources">
    <picture>
      <source srcset="communautÃ©-et-ressources.webp" type="image/webp">
      <img class="full-img" src="communautÃ©-et-ressources.png" alt="CommunautÃ© et Ressources" loading="lazy">
    </picture>
  </section>

  <section id="contact" class="section" aria-label="Contact et Support">
    <picture>
      <source srcset="contact-et-support.webp" type="image/webp">
      <img class="full-img" src="contact-et-support.png" alt="Contact et Support" loading="lazy">
    </picture>
  </section>

  <section id="infographie" class="section" aria-label="Infographie gratuit vs Premium">
    <picture>
      <source srcset="infographie-gratuit-vs-premium.webp" type="image/webp">
      <img class="full-img" src="infographie-gratuit-vs-premium.png" alt="Infographie gratuit vs Premium" loading="lazy">
    </picture>
  </section>

  <section id="mentions" class="section legal" aria-label="Mentions lÃ©gales, CGU et ConfidentialitÃ©">
    <div class="container legal-inner">
      <h2>Mentions lÃ©gales Â· CGU Â· ConfidentialitÃ©</h2>
      <p><strong>Ã‰diteur :</strong> Beautiful Family Life</p>
      <p><strong>Contact :</strong> support@beautifulfamily.life</p>
      <p>En utilisant ce site, vous acceptez nos Conditions GÃ©nÃ©rales dâ€™Utilisation et notre Politique de ConfidentialitÃ©.</p>
    </div>
  </section>
</main>

<footer class="footer">
  Â© 2025 Beautiful Family Life â€” Tous droits rÃ©servÃ©s
</footer>

<script>
  // Mode "onglets" : une section Ã  la fois
  const links  = [...document.querySelectorAll('.nav a')];
  const secs   = [...document.querySelectorAll('main .section')];

  function setActiveLink(hash) { links.forEach(a => a.classList.toggle('active', a.getAttribute('href') === hash)); }
  function showSection(hash, withAnim = true) {
    if (!hash || !document.querySelector(hash)) hash = '#accueil';
    secs.forEach(s => {
      const isTarget = ('#' + s.id) === hash;
      if (isTarget) {
        s.classList.add('active');
        if (withAnim) {
          s.classList.add('fade-enter'); void s.offsetWidth;
          s.classList.add('fade-enter-active');
          setTimeout(() => s.classList.remove('fade-enter','fade-enter-active'), 260);
        }
      } else { s.classList.remove('active'); }
    });
    setActiveLink(hash);
    history.replaceState(null, '', hash);
  }
  links.forEach(a => a.addEventListener('click', e => { const hash = a.getAttribute('href'); if (hash && hash.startsWith('#')) { e.preventDefault(); showSection(hash); } }));
  window.addEventListener('hashchange', () => showSection(location.hash));
  showSection(location.hash, false);

  // Enregistrer le service worker
  if ('serviceWorker' in navigator) { window.addEventListener('load', () => navigator.serviceWorker.register('./service-worker.js')); }

  // ---- BanniÃ¨re d'installation (beforeinstallprompt) ----
  let deferredPrompt = null;
  const banner = document.getElementById('installBanner');
  const btnInstall = document.getElementById('btnInstall');
  const btnLater = document.getElementById('btnLater');
  const STORAGE_KEY = 'bfl_install_nudge_until';

  function shouldNudge() {
    try { const t = localStorage.getItem(STORAGE_KEY); if (!t) return true; return Date.now() > Number(t); }
    catch(e) { return true; }
  }
  function snooze(days=7) { try { localStorage.setItem(STORAGE_KEY, String(Date.now()+days*24*60*60*1000)); }catch(e){} }

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    if (shouldNudge()) { banner.classList.add('show'); }
  });

  btnInstall.addEventListener('click', async () => {
    banner.classList.remove('show');
    if (!deferredPrompt) return;
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    deferredPrompt = null;
    if (outcome !== 'accepted') snooze(7);
  });

  btnLater.addEventListener('click', () => { banner.classList.remove('show'); snooze(7); });
</script>
</body>
</html>
